{"ast":null,"code":"var _jsxFileName = \"D:\\\\Form Forge\\\\src\\\\components\\\\Canvas.js\",\n  _s = $RefreshSig$();\n/**\n * Canvas Component\n * Drop zone for building forms with drag-and-drop\n */\n\nimport React, { useCallback } from 'react';\nimport { useDrop } from 'react-dnd';\nimport FieldRenderer from './FieldRenderer';\nimport './Canvas.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Canvas({\n  fields,\n  onFieldAdd,\n  onFieldUpdate,\n  onFieldDelete,\n  selectedFieldId,\n  onFieldSelect,\n  currentPage = 1,\n  pageSize = {\n    width: 612,\n    height: 792\n  },\n  zoom = 1,\n  showGrid = true\n}) {\n  _s();\n  // Handle dropping a field type from palette\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: 'FIELD_TYPE',\n    drop: (item, monitor) => {\n      const offset = monitor.getClientOffset();\n      const canvasRect = document.querySelector('.canvas-page').getBoundingClientRect();\n      const x = (offset.x - canvasRect.left) / zoom;\n      const y = (offset.y - canvasRect.top) / zoom;\n\n      // Create new field\n      const newField = {\n        id: `field_${Date.now()}`,\n        type: item.fieldType,\n        x: Math.max(0, x - 50),\n        // Center on cursor\n        y: Math.max(0, y - 15),\n        width: item.fieldType === 'checkbox' ? 20 : 200,\n        height: item.fieldType === 'checkbox' ? 20 : 30,\n        page: currentPage,\n        label: `${item.fieldType.charAt(0).toUpperCase() + item.fieldType.slice(1)} Field`,\n        fontSize: 12,\n        bold: false\n      };\n      onFieldAdd(newField);\n    },\n    collect: monitor => ({\n      isOver: monitor.isOver()\n    })\n  }));\n\n  // Handle field position update after drag\n  const handleFieldMove = useCallback((id, x, y) => {\n    const field = fields.find(f => f.id === id);\n    if (field) {\n      onFieldUpdate(id, {\n        ...field,\n        x,\n        y\n      });\n    }\n  }, [fields, onFieldUpdate]);\n\n  // Handle field resize\n  const handleFieldResize = useCallback((id, width, height) => {\n    const field = fields.find(f => f.id === id);\n    if (field) {\n      onFieldUpdate(id, {\n        ...field,\n        width,\n        height\n      });\n    }\n  }, [fields, onFieldUpdate]);\n\n  // Get fields for current page\n  const currentPageFields = fields.filter(f => f.page === currentPage);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"canvas-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: drop,\n      className: `canvas-page ${isOver ? 'drag-over' : ''} ${showGrid ? 'show-grid' : ''}`,\n      style: {\n        width: `${pageSize.width}px`,\n        height: `${pageSize.height}px`,\n        transform: `scale(${zoom})`,\n        transformOrigin: 'top left'\n      },\n      onClick: e => {\n        // Deselect if clicking on empty canvas\n        if (e.target.classList.contains('canvas-page')) {\n          onFieldSelect(null);\n        }\n      },\n      children: [currentPageFields.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"canvas-placeholder\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"placeholder-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"placeholder-icon\",\n            children: \"\\u26A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Start Building\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Drag field types from the left sidebar to add them to your form\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), currentPageFields.map(field => /*#__PURE__*/_jsxDEV(FieldRenderer, {\n        field: field,\n        isSelected: selectedFieldId === field.id,\n        onSelect: () => onFieldSelect(field.id),\n        onMove: handleFieldMove,\n        onResize: handleFieldResize,\n        onDelete: () => onFieldDelete(field.id),\n        zoom: zoom\n      }, field.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(Canvas, \"kidQ3wb7GUeHlUq4MYEbLKY+P/o=\", false, function () {\n  return [useDrop];\n});\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useCallback","useDrop","FieldRenderer","jsxDEV","_jsxDEV","Canvas","fields","onFieldAdd","onFieldUpdate","onFieldDelete","selectedFieldId","onFieldSelect","currentPage","pageSize","width","height","zoom","showGrid","_s","isOver","drop","accept","item","monitor","offset","getClientOffset","canvasRect","document","querySelector","getBoundingClientRect","x","left","y","top","newField","id","Date","now","type","fieldType","Math","max","page","label","charAt","toUpperCase","slice","fontSize","bold","collect","handleFieldMove","field","find","f","handleFieldResize","currentPageFields","filter","className","children","ref","style","transform","transformOrigin","onClick","e","target","classList","contains","length","fileName","_jsxFileName","lineNumber","columnNumber","map","isSelected","onSelect","onMove","onResize","onDelete","_c","$RefreshReg$"],"sources":["D:/Form Forge/src/components/Canvas.js"],"sourcesContent":["/**\n * Canvas Component\n * Drop zone for building forms with drag-and-drop\n */\n\nimport React, { useCallback } from 'react';\nimport { useDrop } from 'react-dnd';\nimport FieldRenderer from './FieldRenderer';\nimport './Canvas.css';\n\nfunction Canvas({ \n  fields, \n  onFieldAdd, \n  onFieldUpdate, \n  onFieldDelete,\n  selectedFieldId,\n  onFieldSelect,\n  currentPage = 1,\n  pageSize = { width: 612, height: 792 },\n  zoom = 1,\n  showGrid = true\n}) {\n  // Handle dropping a field type from palette\n  const [{ isOver }, drop] = useDrop(() => ({\n    accept: 'FIELD_TYPE',\n    drop: (item, monitor) => {\n      const offset = monitor.getClientOffset();\n      const canvasRect = document.querySelector('.canvas-page').getBoundingClientRect();\n      \n      const x = (offset.x - canvasRect.left) / zoom;\n      const y = (offset.y - canvasRect.top) / zoom;\n      \n      // Create new field\n      const newField = {\n        id: `field_${Date.now()}`,\n        type: item.fieldType,\n        x: Math.max(0, x - 50), // Center on cursor\n        y: Math.max(0, y - 15),\n        width: item.fieldType === 'checkbox' ? 20 : 200,\n        height: item.fieldType === 'checkbox' ? 20 : 30,\n        page: currentPage,\n        label: `${item.fieldType.charAt(0).toUpperCase() + item.fieldType.slice(1)} Field`,\n        fontSize: 12,\n        bold: false\n      };\n      \n      onFieldAdd(newField);\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver()\n    })\n  }));\n\n  // Handle field position update after drag\n  const handleFieldMove = useCallback((id, x, y) => {\n    const field = fields.find(f => f.id === id);\n    if (field) {\n      onFieldUpdate(id, { ...field, x, y });\n    }\n  }, [fields, onFieldUpdate]);\n\n  // Handle field resize\n  const handleFieldResize = useCallback((id, width, height) => {\n    const field = fields.find(f => f.id === id);\n    if (field) {\n      onFieldUpdate(id, { ...field, width, height });\n    }\n  }, [fields, onFieldUpdate]);\n\n  // Get fields for current page\n  const currentPageFields = fields.filter(f => f.page === currentPage);\n\n  return (\n    <div className=\"canvas-container\">\n      <div \n        ref={drop}\n        className={`canvas-page ${isOver ? 'drag-over' : ''} ${showGrid ? 'show-grid' : ''}`}\n        style={{\n          width: `${pageSize.width}px`,\n          height: `${pageSize.height}px`,\n          transform: `scale(${zoom})`,\n          transformOrigin: 'top left'\n        }}\n        onClick={(e) => {\n          // Deselect if clicking on empty canvas\n          if (e.target.classList.contains('canvas-page')) {\n            onFieldSelect(null);\n          }\n        }}\n      >\n        {currentPageFields.length === 0 && (\n          <div className=\"canvas-placeholder\">\n            <div className=\"placeholder-content\">\n              <span className=\"placeholder-icon\">âš¡</span>\n              <h3>Start Building</h3>\n              <p>Drag field types from the left sidebar to add them to your form</p>\n            </div>\n          </div>\n        )}\n\n        {currentPageFields.map((field) => (\n          <FieldRenderer\n            key={field.id}\n            field={field}\n            isSelected={selectedFieldId === field.id}\n            onSelect={() => onFieldSelect(field.id)}\n            onMove={handleFieldMove}\n            onResize={handleFieldResize}\n            onDelete={() => onFieldDelete(field.id)}\n            zoom={zoom}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Canvas;\n"],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,OAAO,QAAQ,WAAW;AACnC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtB,SAASC,MAAMA,CAAC;EACdC,MAAM;EACNC,UAAU;EACVC,aAAa;EACbC,aAAa;EACbC,eAAe;EACfC,aAAa;EACbC,WAAW,GAAG,CAAC;EACfC,QAAQ,GAAG;IAAEC,KAAK,EAAE,GAAG;IAAEC,MAAM,EAAE;EAAI,CAAC;EACtCC,IAAI,GAAG,CAAC;EACRC,QAAQ,GAAG;AACb,CAAC,EAAE;EAAAC,EAAA;EACD;EACA,MAAM,CAAC;IAAEC;EAAO,CAAC,EAAEC,IAAI,CAAC,GAAGnB,OAAO,CAAC,OAAO;IACxCoB,MAAM,EAAE,YAAY;IACpBD,IAAI,EAAEA,CAACE,IAAI,EAAEC,OAAO,KAAK;MACvB,MAAMC,MAAM,GAAGD,OAAO,CAACE,eAAe,CAAC,CAAC;MACxC,MAAMC,UAAU,GAAGC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC,CAACC,qBAAqB,CAAC,CAAC;MAEjF,MAAMC,CAAC,GAAG,CAACN,MAAM,CAACM,CAAC,GAAGJ,UAAU,CAACK,IAAI,IAAIf,IAAI;MAC7C,MAAMgB,CAAC,GAAG,CAACR,MAAM,CAACQ,CAAC,GAAGN,UAAU,CAACO,GAAG,IAAIjB,IAAI;;MAE5C;MACA,MAAMkB,QAAQ,GAAG;QACfC,EAAE,EAAE,SAASC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;QACzBC,IAAI,EAAEhB,IAAI,CAACiB,SAAS;QACpBT,CAAC,EAAEU,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEX,CAAC,GAAG,EAAE,CAAC;QAAE;QACxBE,CAAC,EAAEQ,IAAI,CAACC,GAAG,CAAC,CAAC,EAAET,CAAC,GAAG,EAAE,CAAC;QACtBlB,KAAK,EAAEQ,IAAI,CAACiB,SAAS,KAAK,UAAU,GAAG,EAAE,GAAG,GAAG;QAC/CxB,MAAM,EAAEO,IAAI,CAACiB,SAAS,KAAK,UAAU,GAAG,EAAE,GAAG,EAAE;QAC/CG,IAAI,EAAE9B,WAAW;QACjB+B,KAAK,EAAE,GAAGrB,IAAI,CAACiB,SAAS,CAACK,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGvB,IAAI,CAACiB,SAAS,CAACO,KAAK,CAAC,CAAC,CAAC,QAAQ;QAClFC,QAAQ,EAAE,EAAE;QACZC,IAAI,EAAE;MACR,CAAC;MAEDzC,UAAU,CAAC2B,QAAQ,CAAC;IACtB,CAAC;IACDe,OAAO,EAAG1B,OAAO,KAAM;MACrBJ,MAAM,EAAEI,OAAO,CAACJ,MAAM,CAAC;IACzB,CAAC;EACH,CAAC,CAAC,CAAC;;EAEH;EACA,MAAM+B,eAAe,GAAGlD,WAAW,CAAC,CAACmC,EAAE,EAAEL,CAAC,EAAEE,CAAC,KAAK;IAChD,MAAMmB,KAAK,GAAG7C,MAAM,CAAC8C,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAClB,EAAE,KAAKA,EAAE,CAAC;IAC3C,IAAIgB,KAAK,EAAE;MACT3C,aAAa,CAAC2B,EAAE,EAAE;QAAE,GAAGgB,KAAK;QAAErB,CAAC;QAAEE;MAAE,CAAC,CAAC;IACvC;EACF,CAAC,EAAE,CAAC1B,MAAM,EAAEE,aAAa,CAAC,CAAC;;EAE3B;EACA,MAAM8C,iBAAiB,GAAGtD,WAAW,CAAC,CAACmC,EAAE,EAAErB,KAAK,EAAEC,MAAM,KAAK;IAC3D,MAAMoC,KAAK,GAAG7C,MAAM,CAAC8C,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAClB,EAAE,KAAKA,EAAE,CAAC;IAC3C,IAAIgB,KAAK,EAAE;MACT3C,aAAa,CAAC2B,EAAE,EAAE;QAAE,GAAGgB,KAAK;QAAErC,KAAK;QAAEC;MAAO,CAAC,CAAC;IAChD;EACF,CAAC,EAAE,CAACT,MAAM,EAAEE,aAAa,CAAC,CAAC;;EAE3B;EACA,MAAM+C,iBAAiB,GAAGjD,MAAM,CAACkD,MAAM,CAACH,CAAC,IAAIA,CAAC,CAACX,IAAI,KAAK9B,WAAW,CAAC;EAEpE,oBACER,OAAA;IAAKqD,SAAS,EAAC,kBAAkB;IAAAC,QAAA,eAC/BtD,OAAA;MACEuD,GAAG,EAAEvC,IAAK;MACVqC,SAAS,EAAE,eAAetC,MAAM,GAAG,WAAW,GAAG,EAAE,IAAIF,QAAQ,GAAG,WAAW,GAAG,EAAE,EAAG;MACrF2C,KAAK,EAAE;QACL9C,KAAK,EAAE,GAAGD,QAAQ,CAACC,KAAK,IAAI;QAC5BC,MAAM,EAAE,GAAGF,QAAQ,CAACE,MAAM,IAAI;QAC9B8C,SAAS,EAAE,SAAS7C,IAAI,GAAG;QAC3B8C,eAAe,EAAE;MACnB,CAAE;MACFC,OAAO,EAAGC,CAAC,IAAK;QACd;QACA,IAAIA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC,EAAE;UAC9CxD,aAAa,CAAC,IAAI,CAAC;QACrB;MACF,CAAE;MAAA+C,QAAA,GAEDH,iBAAiB,CAACa,MAAM,KAAK,CAAC,iBAC7BhE,OAAA;QAAKqD,SAAS,EAAC,oBAAoB;QAAAC,QAAA,eACjCtD,OAAA;UAAKqD,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAClCtD,OAAA;YAAMqD,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAC;UAAC;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3CpE,OAAA;YAAAsD,QAAA,EAAI;UAAc;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvBpE,OAAA;YAAAsD,QAAA,EAAG;UAA+D;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EAEAjB,iBAAiB,CAACkB,GAAG,CAAEtB,KAAK,iBAC3B/C,OAAA,CAACF,aAAa;QAEZiD,KAAK,EAAEA,KAAM;QACbuB,UAAU,EAAEhE,eAAe,KAAKyC,KAAK,CAAChB,EAAG;QACzCwC,QAAQ,EAAEA,CAAA,KAAMhE,aAAa,CAACwC,KAAK,CAAChB,EAAE,CAAE;QACxCyC,MAAM,EAAE1B,eAAgB;QACxB2B,QAAQ,EAAEvB,iBAAkB;QAC5BwB,QAAQ,EAAEA,CAAA,KAAMrE,aAAa,CAAC0C,KAAK,CAAChB,EAAE,CAAE;QACxCnB,IAAI,EAAEA;MAAK,GAPNmC,KAAK,CAAChB,EAAE;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQd,CACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACtD,EAAA,CAzGQb,MAAM;EAAA,QAacJ,OAAO;AAAA;AAAA8E,EAAA,GAb3B1E,MAAM;AA2Gf,eAAeA,MAAM;AAAC,IAAA0E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}